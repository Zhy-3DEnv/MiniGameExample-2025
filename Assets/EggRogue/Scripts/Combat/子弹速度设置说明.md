# 子弹速度设置说明

## 概念区分

### 1. 攻击速度（Fire Rate）
- **定义**：每秒发射几发子弹
- **单位**：发/秒
- **示例**：`fireRate = 2` 表示每秒发射 2 发子弹
- **影响**：控制射击频率，数值越大，射击越快

### 2. 子弹移动速度（Bullet Speed）
- **定义**：子弹发射后的飞行速度
- **单位**：米/秒
- **示例**：`bulletSpeed = 20` 表示子弹每秒飞行 20 米
- **影响**：控制子弹飞行速度，数值越大，子弹越快到达目标

---

## 代码修改说明

### 1. Projectile.cs（子弹脚本）

**新增功能**：
- 默认速度从 `10` 提升到 `20`（更快）
- `Initialize()` 方法支持设置子弹速度
- 新增 `SetSpeed()` 方法

**使用方式**：
```csharp
// 在初始化时设置速度
projectile.Initialize(direction, damage, bulletSpeed);

// 或单独设置速度
projectile.SetSpeed(30f);
```

### 2. PlayerCombatController.cs（玩家战斗控制器）

**新增配置**：
- 新增 `bulletSpeed` 字段（默认 20）
- 新增 `SetBulletSpeed()` 方法
- `FireBullet()` 方法现在会传递速度给子弹

**参数说明**：
- `fireRate`：攻击速度（每秒几发）
- `bulletSpeed`：子弹移动速度（米/秒）

### 3. CSVConfigManager.cs（配置管理器）

**新增配置项**：
- `BulletSpeed`：子弹移动速度
- 默认值：20

---

## CSV 配置

在 `gameconfig.csv` 中添加：

```csv
Key,Value,Type,Desc
PlayerDamage,10,float,玩家单发伤害
PlayerAttackRange,8,float,玩家攻击范围
PlayerFireRate,2,float,攻击速度（每秒发射几发子弹）
BulletSpeed,20,float,子弹移动速度（子弹飞行速度，单位：米/秒）
EnemyHealth,20,float,怪物最大生命值
EnemyMoveSpeed,3,float,怪物移动速度
CoinDropMin,1,int,最少掉落金币数
CoinDropMax,2,int,最多掉落金币数
```

---

## 推荐数值

### 攻击速度（Fire Rate）
- **慢速武器**：1-2 发/秒
- **中速武器**：2-5 发/秒
- **快速武器**：5-10 发/秒

### 子弹移动速度（Bullet Speed）
- **慢速子弹**：10-15 米/秒（弓箭、投掷物）
- **中速子弹**：20-30 米/秒（手枪、步枪）
- **快速子弹**：30-50 米/秒（狙击枪、激光）

**当前默认值**：
- `FireRate = 2`（每秒 2 发）
- `BulletSpeed = 20`（每秒 20 米）

---

## 调整建议

如果觉得子弹太慢，可以：

1. **在 Unity Inspector 中直接调整**：
   - 找到 `PlayerCombatController` 组件
   - 修改 `Bullet Speed` 字段（例如：30 或 40）

2. **在 CSV 中配置**（推荐）：
   - 修改 `BulletSpeed` 的值
   - 例如：`BulletSpeed,30,float,子弹移动速度（子弹飞行速度，单位：米/秒）`

3. **测试不同数值**：
   - 10：很慢（像弓箭）
   - 20：中等（像手枪）
   - 30：较快（像步枪）
   - 50：很快（像激光）

---

## 注意事项

1. **性能考虑**：
   - 子弹速度太快可能导致碰撞检测问题
   - 如果速度 > 50，建议使用 `ContinuousSpeculative` 碰撞检测（已设置）

2. **游戏体验**：
   - 速度太慢：玩家感觉子弹"飘"
   - 速度太快：可能看不清子弹轨迹
   - 建议范围：15-40 米/秒

3. **与攻击速度的关系**：
   - 两者独立，互不影响
   - 可以设置：高攻击速度 + 慢子弹（弹幕效果）
   - 也可以设置：低攻击速度 + 快子弹（狙击效果）

---

完成以上设置后，你就可以独立控制攻击速度和子弹移动速度了！
